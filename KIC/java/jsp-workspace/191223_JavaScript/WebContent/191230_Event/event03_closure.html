<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style type="text/css">
div {
	width: 150px;
	height: 50px;
	border: 1px solid gray;
	text-align: center;
	vertical-align: middle;
}
</style>
<script type="text/javascript">
	//동적 이벤트 생성
	window.onload = function() {
		/*
		var btn1 = document.getElementById('btn1');
		var btn2 = document.getElementById('btn2');

		btn1.onclick = function() {
			alert('call btn1');
		};
		btn2.onclick = function() {
			alert('call btn2');
		};
		 */
		 
		 // 명칭 : 클로저
		 var testStr1 = "testStr1";
		 var testStr2 = "testStr2";
		 
		 
		var btns = document.getElementsByTagName('div');
		for (var i = 0; i < btns.length; ++i) { //0
			//console.log(i);
			
			// 실행시점에 대한 고찰(클릭 했을때는 이미 끝난 상태)
			btns[i].onclick = function() { //연결
				//alert('btn ' + i + ' click');
				//console.log(this.innerHTML);
				//console.log(this);
				
				this.style.color = 'orange';
				this.style.background = 'red';
				
				console.log(i);
			};
			
		}
		console.log(i);
		
		++i;

		console.log(i);
		
	};
</script>
</head>
<body>
	<div id="btn1">이벤트 클릭</div>
	<br>
	<br>
	<div id="btn2">이벤트 클릭2</div>
</body>
</html>